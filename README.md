# 테스트는 왜 필요할까?

- 자동화 테스트로 비교적 빠른 시간 안에 버그를 발견할 수 있고, 수동 테스트에 드는 비용을 크게 절약할 수 있다.
- 소프트웨어의 빠른 변화를 지원한다.
- 팀원들의 집단 지성을 팀 차원의 이익으로 승격시킨다.
- 가까이 보면 느리지만, 멀리 보면 가장 빠르다.


## 단위 테스트
- 작은 코드 단위(클래스 or 메서드)를 독립적으로 검증하는 테스트
- 검증 속도가 빠르고, 안정적이다.

## 테스트 케이스 세분화 하기
해피 케이스, 예외 케이스  
- 경계값 테스트: 범위(이상, 이하, 초과, 미만), 구간, 날짜 등
- 테스트하기 어려운 영역을 구분하고 분리하기  
: 외부에서 주입받는 방식으로 변경 가능하다.  
: 관측할 때마다 다른 값에 의존하는 코드 - 현재 날짜/시간, 랜덤 값, 전역 변수/함수, 사용자 입력 등  
: 외부 세계에 영향을 주는 코드 - 표준 출력, 메시지 발송, 데이터베이스에 기록하기 등  


## TDD  
프로덕션 코드보다 테스트 코드를 먼저 작성하여 테스트가 구현 과정을 주도하도록 하는 방법론  

### 핵심 가치는 피드백.  
- 테스트 자체의 누락 가능성
- 특정 테스트 케이스만 검증할 가능성
- 잘못된 구현을 다소 늦게 발견할 가능성

### 선 테스트 작성, 후 기능 구현  
- 복잡도가 낮은(유연하며 유지보수가 쉬운) 테스트 가능한 코드로 구현할 수 있게 한다.
- 쉽게 발견하기 어려운 엣지 케이스를 놓치지 않게 해준다.
- 구현에 대한 빠른 피드백을 받을 수 있다.
- 과감한 리팩토링이 가능해진다.

## 테스트는 []다.
- 프로덕션 기능을 설명하는 테스트 코드 문서
- 다양한 테스트 케이스를 통해 프로덕션 코드를 이해하는 시각과 관점을 보완
- 어느 한 사람이 과거에 경험했던 고민의 결과물을 팀 차원으로 승격시켜서, 모두의 자산으로 공유할 수 있다.

### DisplayName을 섬세하게  
- ~테스트 지양하기.  
- 명사의 나열보다 문장으로: A이면 이다. A이면 B가 아니고 C다.
- 테스트 행위에 대한 결과까지 기술하기.
- 도메인 용어를 사용하여 한층 추상화된 내용을 담기.
  - 특정 시간 이전에 주문을 생성하면 실패한다. (X)
  - 영업 시작 시간 이전에는 주문을 생성할 수 없다. (O)
 
### BDD 스타일로 작성하기. (Behavior Driven Development)  
- TDD에서 파생된 개발 방법  
- 함수 단위의 테스트에 집중하기보다, 시나이로에 기반한 테스트 케이스(TC) 자체에 집중하여 테스트 한다.
- 개발자가 아닌 사람이 봐도 이해할 수 있을 정도의 추상화 수준(레벨)을 권장.
- Given, when, then

 
